(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fa14ffcc"],{"2f21":function(e,t,o){"use strict";var s=o("79e5");e.exports=function(e,t){return!!e&&s((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},"55dd":function(e,t,o){"use strict";var s=o("5ca1"),n=o("d8e8"),a=o("4bf8"),i=o("79e5"),l=[].sort,r=[1,2,3];s(s.P+s.F*(i((function(){r.sort(void 0)}))||!i((function(){r.sort(null)}))||!o("2f21")(l)),"Array",{sort:function(e){return void 0===e?l.call(a(this)):l.call(a(this),n(e))}})},5911:function(e,t,o){},"8d6b":function(e,t,o){"use strict";var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{ref:"mescroll",staticClass:"mescroll"},[o("div",[e._t("default")],2)])},n=[],a=o("f868"),i=o.n(a),l=(o("f2fd"),{name:"MeScrollVue",data:function(){return{mescroll:null,lastScrollTop:0,lastBounce:null}},props:{up:Object,down:Object},mounted:function(){this.mescroll=new i.a(this.$refs.mescroll,{up:this.up,down:this.down}),this.$emit("init",this.mescroll)},methods:{beforeRouteEnter:function(){var e=this;this.mescroll&&(this.lastScrollTop&&(this.mescroll.setScrollTop(this.lastScrollTop),setTimeout((function(){e.mescroll.setTopBtnFadeDuration(0)}),16)),null!=this.lastBounce&&this.mescroll.setBounce(this.lastBounce))},beforeRouteLeave:function(){this.mescroll&&(this.lastScrollTop=this.mescroll.getScrollTop(),this.mescroll.hideTopBtn(0),this.lastBounce=this.mescroll.optUp.isBounce,this.mescroll.setBounce(!0))}}}),r=l,c=o("2877"),p=Object(c["a"])(r,s,n,!1,null,null,null);t["a"]=p.exports},a20f:function(e,t,o){"use strict";var s=o("5911"),n=o.n(s);n.a},a7e0:function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"box"},[o("van-nav-bar",{attrs:{title:"报事任务","left-text":"首页","left-arrow":""},on:{"click-left":e.onClickLeft},scopedSlots:e._u([{key:"right",fn:function(){return[o("van-icon",{attrs:{name:"filter-o",size:"18"},on:{click:e.isShow}})]},proxy:!0}])}),o("van-search",{attrs:{"show-action":"",shape:"round",placeholder:"模糊搜索：报事人、描述、编号"},scopedSlots:e._u([{key:"action",fn:function(){return[o("div",{on:{click:e.onSearch}},[e._v("搜索")])]},proxy:!0}]),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),o("van-popup",{style:{height:"100%"},attrs:{position:"top"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[o("div",{staticClass:"mescroll-touch"},[o("p",[e._v("事件类型")]),o("div",{staticClass:"minbox flex_w"},e._l(e.baoShiType,(function(t,s){return o("h6",{key:s,class:{discolor:e.changeLeftBackground==s},on:{click:function(o){return e.leftChange(t.id,s)}}},[e._v(e._s(t.eventType))])})),0),o("p",[e._v("报事时间")]),o("div",{staticClass:"time"},[o("van-cell-group",{staticClass:"flex"},[o("van-field",{attrs:{placeholder:"请输入开始时间",readonly:""},on:{click:function(t){e.flag=!0}},model:{value:e.actionTime,callback:function(t){e.actionTime=t},expression:"actionTime"}}),e._v("至\n          "),o("van-field",{attrs:{placeholder:"请输入结束时间",readonly:""},on:{click:function(t){e.flag1=!0}},model:{value:e.xianZaiTime,callback:function(t){e.xianZaiTime=t},expression:"xianZaiTime"}})],1),e.flag?o("van-datetime-picker",{attrs:{type:"date","min-date":e.minDate,"max-date":e.maxDate},on:{confirm:e.endTime,cancel:e.overTime},model:{value:e.currentDate,callback:function(t){e.currentDate=t},expression:"currentDate"}}):e._e(),e.flag1?o("van-datetime-picker",{attrs:{type:"date","min-date":e.minDate,"max-date":e.maxDate},on:{confirm:e.endTime1,cancel:e.overTime},model:{value:e.currentDate,callback:function(t){e.currentDate=t},expression:"currentDate"}}):e._e()],1),e.show7?o("p",[e._v("事件状态")]):e._e(),e.show7?o("div",{staticClass:"minbox flex_w"},e._l(e.baoShiType1,(function(t,s){return o("h6",{key:s,class:{discolor1:e.changeLeftBackground1==s},on:{click:function(o){return e.leftChange1(t.id,s)}}},[e._v(e._s(t.name))])})),0):e._e(),o("div",{staticClass:"btn flex"},[o("van-button",{attrs:{color:"#999"},on:{click:function(t){e.show=!1}}},[e._v("取消")]),o("van-button",{attrs:{color:"#a48f36"},on:{click:e.query}},[e._v("确认")])],1)])]),o("div",{staticClass:"con"},[o("van-tabs",{attrs:{color:"#000",background:"#fff",sticky:!0},on:{click:e.over},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[o("Mescroll-vue",{ref:"mescroll",staticClass:"mescroll",attrs:{up:e.mescrollUp},on:{init:e.mescrollInit}},[o("van-tab",{attrs:{title:"待我处理"}},[0==e.list.length?o("div",{staticClass:"null"},[e._v("暂无记录~")]):e._e(),e._l(e.list,(function(t,s){return o("div",{key:s,staticClass:"minBox",on:{click:function(o){return e.mangeDateils(t.id,t.reportEventTypeId,t.eventStatusNow)}}},[o("div",{staticClass:"flex col"},[o("span",[e._v("报事类型")]),o("span",[e._v(e._s(t.report_type_name))])]),o("div",{staticClass:"flex col"},[o("span",[e._v("报事人")]),o("span",[e._v(e._s(t.reporter_name))])]),o("div",{staticClass:"flex col"},[o("span",[e._v("报事时间")]),o("span",[e._v(e._s(e._f("teShuTime")(t.createTime)))])]),o("div",{staticClass:"flex col"},[o("span",[e._v("报事描述")]),o("span",{staticClass:"yihang"},[e._v(e._s(t.eventRemark))])]),o("div",{staticClass:"flex col"},[o("span",[e._v("事件编号")]),o("span",{staticClass:"yihang"},[e._v(e._s(t.eventCode))])]),o("van-divider"),1==t.eventStatusNow&&null!=t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.tbEventLogBeans[0].fromUserName)+e._s(t.tbEventLogBeans[0].processRemark)+e._s(t.tbEventLogBeans[0].toUserName)+"处理。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):1==t.eventStatusNow&&null==t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.reporter_name)+"创建了事件，等待我处理。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):e._e(),2==t.eventStatusNow&&null!=t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.tbEventLogBeans[0].fromUserName)+e._s(t.tbEventLogBeans[0].processRemark)+e._s(t.tbEventLogBeans[0].toUserName)+"处理。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):2==t.eventStatusNow&&null==t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.reporter_name)+"分配事件，等待我处理。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):e._e(),3==t.eventStatusNow&&null!=t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.tbEventLogBeans[0].fromUserName)+e._s(t.tbEventLogBeans[0].processRemark)+e._s(t.tbEventLogBeans[0].toUserName)+"。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):3==t.eventStatusNow&&null==t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.reporter_name)+"转交事件，等待我处理。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):e._e(),13==t.eventStatusNow&&null!=t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.tbEventLogBeans[0].fromUserName)+e._s(t.tbEventLogBeans[0].processRemark)+"，"+e._s(t.tbEventLogBeans[0].toUserName)+"处理。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):13==t.eventStatusNow&&null==t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.reporter_name)+"同意了我的延时申请。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):e._e(),14==t.eventStatusNow&&null!=t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.tbEventLogBeans[0].fromUserName)+e._s(t.tbEventLogBeans[0].processRemark)+"，"+e._s(t.tbEventLogBeans[0].toUserName)+"处理。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):14==t.eventStatusNow&&null==t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.reporter_name)+"拒绝了我的延时申请。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):e._e(),4==t.eventStatusNow&&null!=t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.tbEventLogBeans[0].fromUserName)+e._s(t.tbEventLogBeans[0].processRemark)+e._s(t.tbEventLogBeans[0].toUserName)+"处理。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):4==t.eventStatusNow&&null==t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.reporter_name)+"转交事件，等待我处理。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):e._e(),5==t.eventStatusNow&&null!=t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.tbEventLogBeans[0].fromUserName)+e._s(t.tbEventLogBeans[0].processRemark)+e._s(t.tbEventLogBeans[0].toUserName)+"处理。总耗"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):5==t.eventStatusNow&&null==t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.reporter_name)+"创建了无效事件，等待我处理。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):e._e(),6==t.eventStatusNow&&null!=t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#FF8C00"}},[e._v(e._s(t.tbEventLogBeans[0].fromUserName)+e._s(t.tbEventLogBeans[0].processRemark)+e._s(t.tbEventLogBeans[0].toUserName)+"验收。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):6==t.eventStatusNow&&null==t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#FF8C00"}},[e._v(e._s(t.reporter_name)+"完成事件，等待我验收。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):e._e(),7==t.eventStatusNow&&null!=t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.tbEventLogBeans[0].fromUserName)+e._s(t.tbEventLogBeans[0].processRemark)+e._s(t.tbEventLogBeans[0].toUserName)+"处理。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):7==t.eventStatusNow&&null==t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.reporter_name)+"退回了事件，等待我处理。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):e._e(),8==t.eventStatusNow&&null!=t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.tbEventLogBeans[0].fromUserName)+e._s(t.tbEventLogBeans[0].processRemark)+e._s(t.tbEventLogBeans[0].toUserName)+"处理。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):8==t.eventStatusNow&&null==t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.reporter_name)+"申请延期，等待我处理。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):e._e(),10==t.eventStatusNow&&null!=t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.tbEventLogBeans[0].fromUserName)+e._s(t.tbEventLogBeans[0].processRemark)+e._s(t.tbEventLogBeans[0].toUserName)+"处理。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):10==t.eventStatusNow&&null==t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.reporter_name)+"拒绝事件完成，等待我处理。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):e._e(),11==t.eventStatusNow&&null!=t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.tbEventLogBeans[0].fromUserName)+e._s(t.tbEventLogBeans[0].processRemark)+e._s(t.tbEventLogBeans[0].toUserName)+"处理。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):11==t.eventStatusNow&&null==t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.reporter_name)+"同意退回，等待我处理。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):e._e(),12==t.eventStatusNow&&null!=t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.tbEventLogBeans[0].fromUserName)+e._s(t.tbEventLogBeans[0].processRemark)+"，"+e._s(t.tbEventLogBeans[0].toUserName)+"处理。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):12==t.eventStatusNow&&null==t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.reporter_name)+"同意退回，等待我处理。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):e._e(),17==t.eventStatusNow&&null!=t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.tbEventLogBeans[0].fromUserName)+e._s(t.tbEventLogBeans[0].processRemark)+"，"+e._s(t.tbEventLogBeans[0].toUserName)+"处理。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):17==t.eventStatusNow&&null==t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.reporter_name)+"同意退回，等待我处理。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):e._e()],1)}))],2),o("van-tab",{attrs:{title:"我已处理"}},[0==e.list1.length?o("div",{staticClass:"null"},[e._v("暂无记录~")]):e._e(),e._l(e.list1,(function(t,s){return o("div",{key:s,staticClass:"minBox",on:{click:function(o){return e.mangeDateils1(t.id,t.reportEventTypeId,t.eventStatusNow)}}},[o("div",{staticClass:"flex col"},[o("span",[e._v("报事类型")]),o("span",[e._v(e._s(t.report_type_name))])]),o("div",{staticClass:"flex col"},[o("span",[e._v("报事人")]),o("span",[e._v(e._s(t.reporter_name))])]),o("div",{staticClass:"flex col"},[o("span",[e._v("报事时间")]),o("span",[e._v(e._s(e._f("teShuTime")(t.createTime)))])]),o("div",{staticClass:"flex col"},[o("span",[e._v("报事描述")]),o("span",{staticClass:"yihang"},[e._v(e._s(t.eventRemark))])]),o("div",{staticClass:"flex col"},[o("span",[e._v("事件编号")]),o("span",{staticClass:"yihang"},[e._v(e._s(t.eventCode))])]),o("van-divider"),2==t.eventStatusNow&&null!=t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.tbEventLogBeans[0].fromUserName)+e._s(t.tbEventLogBeans[0].processRemark)+e._s(t.tbEventLogBeans[0].toUserName)+"处理。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):2==t.eventStatusNow&&null==t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.reporter_name)+"分配事件，等待我处理。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):e._e(),3==t.eventStatusNow&&null!=t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.tbEventLogBeans[0].fromUserName)+e._s(t.tbEventLogBeans[0].processRemark)+e._s(t.tbEventLogBeans[0].toUserName)+"。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):3==t.eventStatusNow&&null==t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.reporter_name)+"合并事件，等待我处理。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):e._e(),4==t.eventStatusNow&&null!=t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.tbEventLogBeans[0].fromUserName)+e._s(t.tbEventLogBeans[0].processRemark)+e._s(t.tbEventLogBeans[0].toUserName)+"处理,总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):4==t.eventStatusNow&&null==t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.reporter_name)+"分配事件，等待我处理。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):e._e(),5==t.eventStatusNow&&null!=t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.tbEventLogBeans[0].fromUserName)+e._s(t.tbEventLogBeans[0].processRemark)+e._s(t.tbEventLogBeans[0].toUserName)+"处理。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):5==t.eventStatusNow&&null==t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.reporter_name)+"创建了无效事件，等待我处理。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):e._e(),6==t.eventStatusNow&&null!=t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.tbEventLogBeans[0].fromUserName)+e._s(t.tbEventLogBeans[0].processRemark)+e._s(t.tbEventLogBeans[0].toUserName)+"验收。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):6==t.eventStatusNow&&null==t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.reporter_name)+"已完成事件，等待验收。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):e._e(),7==t.eventStatusNow&&null!=t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.tbEventLogBeans[0].fromUserName)+e._s(t.tbEventLogBeans[0].processRemark)+e._s(t.tbEventLogBeans[0].toUserName)+"处理。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):7==t.eventStatusNow&&null==t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.reporter_name)+"退回事件，等待我处理。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):e._e(),8==t.eventStatusNow&&null!=t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.tbEventLogBeans[0].fromUserName)+e._s(t.tbEventLogBeans[0].processRemark)+e._s(t.tbEventLogBeans[0].toUserName)+"处理。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):8==t.eventStatusNow&&null==t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.reporter_name)+"延期事件，等待我处理。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):e._e(),18==t.eventStatusNow&&null!=t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#00C853"}},[e._v(e._s(t.tbEventLogBeans[0].fromUserName)+e._s(t.tbEventLogBeans[0].processRemark)+"。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):18==t.eventStatusNow&&null==t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#00C853"}},[e._v(e._s(t.reporter_name)+"上报并处理了本事件。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):e._e(),17==t.eventStatusNow&&null!==t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.tbEventLogBeans[0].fromUserName)+e._s(t.tbEventLogBeans[0].processRemark)+"，"+e._s(t.tbEventLogBeans[0].toUserName)+"处理。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):17==t.eventStatusNow&&null==t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.reporter_name)+"拒绝了无效任务。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):e._e(),16==t.eventStatusNow&&null!==t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#00C853"}},[e._v(e._s(t.tbEventLogBeans[0].fromUserName)+"无效任务审核通过。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):16==t.eventStatusNow&&null==t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#00C853"}},[e._v("无效任务审核通过。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):e._e(),14==t.eventStatusNow&&null!==t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.tbEventLogBeans[0].fromUserName)+e._s(t.tbEventLogBeans[0].processRemark)+"，"+e._s(t.tbEventLogBeans[0].toUserName)+"处理。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):14==t.eventStatusNow&&null==t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.reporter_name)+"拒绝了延期。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):e._e(),13==t.eventStatusNow&&null!==t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.tbEventLogBeans[0].fromUserName)+e._s(t.tbEventLogBeans[0].processRemark)+"，"+e._s(t.tbEventLogBeans[0].toUserName)+"处理。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):13==t.eventStatusNow&&null==t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.reporter_name)+"同意了延期。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):e._e(),12==t.eventStatusNow&&null!==t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.tbEventLogBeans[0].fromUserName)+e._s(t.tbEventLogBeans[0].processRemark)+"，"+e._s(t.tbEventLogBeans[0].toUserName)+"处理。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):12==t.eventStatusNow&&null==t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.reporter_name)+"拒绝了退回。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):e._e(),11==t.eventStatusNow&&null!==t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.tbEventLogBeans[0].fromUserName)+"同意了事件退回，"+e._s(t.tbEventLogBeans[0].toUserName)+"处理。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):11==t.eventStatusNow&&null==t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.reporter_name)+"同意了退回。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):e._e(),10==t.eventStatusNow&&null!==t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.tbEventLogBeans[0].fromUserName)+e._s(t.tbEventLogBeans[0].processRemark)+e._s(t.tbEventLogBeans[0].toUserName)+"处理。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):10==t.eventStatusNow&&null==t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.reporter_name)+"拒绝完成。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):e._e(),9==t.eventStatusNow&&null!==t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#00C853"}},[e._v(e._s(t.tbEventLogBeans[0].fromUserName)+e._s(t.tbEventLogBeans[0].processRemark)+"。完成总耗时"+e._s(e._f("guoQuTime")(t.createTime,t.tbEventLogBeans[0].createTime)))]):9==t.eventStatusNow&&null==t.tbEventLogBeans?o("div",{staticClass:"flex col",staticStyle:{color:"#00C853"}},[e._v(e._s(t.reporter_name)+"同意完成。")]):e._e()],1)}))],2),o("van-tab",{attrs:{title:"我发起的"}},[0==e.list2.length?o("div",{staticClass:"null"},[e._v("暂无记录~")]):e._e(),e._l(e.list2,(function(t,s){return o("div",{key:s,staticClass:"minBox",on:{click:function(o){return e.mangeDateils2(t.id,t.reportEventTypeId,t.eventStatusNow)}}},[o("div",{staticClass:"flex col"},[o("span",[e._v("报事类型")]),o("span",[e._v(e._s(t.report_type_name))])]),o("div",{staticClass:"flex col"},[o("span",[e._v("报事人")]),o("span",[e._v(e._s(t.reporter_name))])]),o("div",{staticClass:"flex col"},[o("span",[e._v("报事时间")]),o("span",[e._v(e._s(e._f("teShuTime")(t.createTime)))])]),o("div",{staticClass:"flex col"},[o("span",[e._v("报事描述")]),o("span",{staticClass:"yihang"},[e._v(e._s(t.eventRemark))])]),o("div",{staticClass:"flex col"},[o("span",[e._v("事件编号")]),o("span",{staticClass:"yihang"},[e._v(e._s(t.eventCode))])]),o("van-divider"),9!=t.eventStatusNow&&10!=t.eventStatusNow&&18!=t.eventStatusNow&&14!=t.eventStatusNow&&12!=t.eventStatusNow&&13!=t.eventStatusNow&&10!=t.eventStatusNow&&17!=t.eventStatusNow&&16!=t.eventStatusNow&&11!=t.eventStatusNow?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.tbEventLogBeans[0].fromUserName)+e._s(t.tbEventLogBeans[0].processRemark)+e._s(t.tbEventLogBeans[0].toUserName)+"处理事件。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):e._e(),14==t.eventStatusNow?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.tbEventLogBeans[0].fromUserName)+e._s(t.tbEventLogBeans[0].processRemark)+"，"+e._s(t.tbEventLogBeans[0].toUserName)+"处理。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):e._e(),18==t.eventStatusNow?o("div",{staticClass:"flex col",staticStyle:{color:"#00C853"}},[e._v(e._s(t.tbEventLogBeans[0].fromUserName)+e._s(t.tbEventLogBeans[0].processRemark)+"。总耗时"+e._s(e._f("guoQuTime")(t.createTime,t.tbEventLogBeans[0].createTime)))]):e._e(),13==t.eventStatusNow?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.tbEventLogBeans[0].fromUserName)+e._s(t.tbEventLogBeans[0].processRemark)+"，"+e._s(t.tbEventLogBeans[0].toUserName)+"处理。总耗时"+e._s(e._f("guoQuTime")(t.createTime,t.tbEventLogBeans[0].createTime)))]):e._e(),12==t.eventStatusNow?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.tbEventLogBeans[0].fromUserName)+e._s(t.tbEventLogBeans[0].processRemark)+"，"+e._s(t.tbEventLogBeans[0].toUserName)+"处理。总耗时"+e._s(e._f("guoQuTime")(t.createTime,t.tbEventLogBeans[0].createTime)))]):e._e(),9==t.eventStatusNow?o("div",{staticClass:"flex col",staticStyle:{color:"#00C853"}},[e._v(e._s(t.tbEventLogBeans[0].fromUserName)+e._s(t.tbEventLogBeans[0].processRemark)+"。总耗时"+e._s(e._f("guoQuTime")(t.createTime,t.tbEventLogBeans[0].createTime)))]):e._e(),10==t.eventStatusNow?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.tbEventLogBeans[0].fromUserName)+e._s(t.tbEventLogBeans[0].processRemark)+e._s(t.tbEventLogBeans[0].toUserName)+"处理。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):e._e(),17==t.eventStatusNow?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.tbEventLogBeans[0].fromUserName)+e._s(t.tbEventLogBeans[0].processRemark)+"，"+e._s(t.tbEventLogBeans[0].toUserName)+"处理事件。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):e._e(),11==t.eventStatusNow?o("div",{staticClass:"flex col",staticStyle:{color:"#f00"}},[e._v(e._s(t.tbEventLogBeans[0].fromUserName)+e._s(t.tbEventLogBeans[0].processRemark)+"，"+e._s(t.tbEventLogBeans[0].toUserName)+"处理事件。总耗时"+e._s(e._f("guoQuTime1")(t.createTime,e.dangQianTime)))]):e._e(),16==t.eventStatusNow?o("div",{staticClass:"flex col",staticStyle:{color:"#00C853"}},[e._v(e._s(t.tbEventLogBeans[0].fromUserName)+e._s(t.tbEventLogBeans[0].processRemark)+"。总耗时"+e._s(e._f("guoQuTime")(t.createTime,t.tbEventLogBeans[0].createTime)))]):e._e()],1)}))],2)],1)],1)],1),o("div",{staticClass:"break"},[o("van-icon",{attrs:{name:"replay",size:"20",color:"rgb(45,126,249)"},on:{click:e.shua}})],1)],1)},n=[],a=(o("a481"),o("55dd"),o("7f7f"),o("8d6b")),i={components:{MescrollVue:a["a"]},watch:{$route:function(e,t){"manage"!=t.name&&"allocation"!=t.name&&"careOf"!=t.name&&"check"!=t.name&&"merge"!=t.name&&"out"!=t.name&&"postpone"!=t.name&&"up"!=t.name&&"wanCheng"!=t.name&&"home"!=t.name||this.mescroll.resetUpScroll()}},data:function(){return{active:parseInt(localStorage.getItem("action1")),show:!1,show7:!1,value:"",xianZaiTime:"",actionTime:"",baoShiType:[],baoShiType1:[{name:"全部"},{name:"未完成"},{name:"已完成"}],changeLeftBackground:0,changeLeftBackground1:0,minDate:new Date(2e3,0,1),maxDate:new Date(2099,12,31),currentDate:new Date,iosTime:"2020/04/01 12:15:56",iosTime1:"",andTime:"2020-04-01 12:15:56",flag:!1,flag1:!1,eventType:"",eventState:"",shiJianType:"1",dangQianTime:new Date,list:[],list1:[],list2:[],mescroll:null,mescrollUp:{isBounce:!1,callback:this.upCallback,noMoreSize:1,toTop:{warpId:null,src:"http://www.mescroll.com/img/mescroll-totop.png",html:null,offset:1e3,warpClass:"mescroll-totop",showClass:"mescroll-fade-in",hideClass:"mescroll-fade-out",duration:300,supportTap:!1,btnClick:null}}}},beforeRouteLeave:function(e,t,o){"eventList"!==e.name&&this.mescroll.setBounce(!0),o()},mounted:function(){var e=this;this.time(),this.timeIos(this.andTime),this.axios.get("/rest/tbEventTypeConfig/getEventTypes",{params:{uid:localStorage.getItem("uid"),company_id:""}}).then((function(t){console.log(t),t.sort((function(e,t){return e.eventType>t.eventType?1:-1})),e.baoShiType=t;var o={eventType:"全部"};e.baoShiType.unshift(o),e.typeId=""})).catch((function(e){console.log("woyichangle")}))},methods:{overTime:function(){this.flag=!1,this.flag1=!1},shua:function(){location.reload()},onClickLeft:function(){this.$router.push("/")},timeIos:function(e){var t=new Date(e.replace(/-/g,"/"));console.log("我打印一定要看"+t);var o=t.getFullYear(),s=t.getMonth()+1,n=t.getDate(),a=t.getHours(),i=t.getMinutes(),l=t.getSeconds();this.iosTime1=o+"/"+s+"/"+n+" "+a+":"+i+":"+l},isShow:function(){this.show=!0},time:function(){var e=new Date;this.xianZaiTime=e.getFullYear()+"-"+this.p(e.getMonth()+1)+"-"+e.getDate()},endTime:function(e){var t=e,o=t.getFullYear()+"-"+this.p(t.getMonth()+1)+"-"+this.p(t.getDate());this.actionTime=o;this.p(t.getHours()),this.p(t.getMinutes()),this.p(t.getSeconds());this.flag=!1},endTime1:function(e){var t=e,o=t.getFullYear()+"-"+this.p(t.getMonth()+1)+"-"+this.p(t.getDate());this.xianZaiTime=o;this.p(t.getHours()),this.p(t.getMinutes()),this.p(t.getSeconds());this.flag1=!1},p:function(e){return e<10?"0"+e:e},leftChange:function(e,t){this.changeLeftBackground=t,this.reportEventTypeId=e,this.eventType=0==t?"":e},leftChange1:function(e,t){this.changeLeftBackground1=t,this.reportEventTypeId=e,this.eventState=0==t?"":1==t?"1":"2"},mescrollInit:function(e){this.mescroll=e},over:function(e){console.log(e),0==e?(this.shiJianType="1",this.list=[],this.mescroll.resetUpScroll(),this.show7=!1):1==e?(this.shiJianType="2",this.list1=[],this.mescroll.resetUpScroll(),this.show7=!0):2==e&&(this.shiJianType="3",this.list2=[],this.mescroll.resetUpScroll(),this.show7=!0)},upCallback:function(e,t){var o=this;this.axios.get("/rest/tbEventReport/getEventsHandleByParam",{params:{page:e.num,limit:e.size,uid:localStorage.getItem("uid"),eventHandleStatus:this.shiJianType,eventStatus:this.eventState,eventTypeId:this.eventType,reportTimeStart:this.actionTime+" 00:00:00",reportTimeEnd:this.xianZaiTime+" 23:59:59",searchCon:this.value}}).then((function(s){if(1==o.shiJianType){var n=s.rows;console.log(n),1===e.num&&(o.list=[]),o.list=o.list.concat(n),o.$nextTick((function(){t.endSuccess(n.length,!0)}))}else if(2==o.shiJianType){var a=s.rows;console.log(a),1===e.num&&(o.list1=[]),o.list1=o.list1.concat(a),o.$nextTick((function(){t.endSuccess(a.length,!0)}))}else{var i=s.rows;console.log(i),1===e.num&&(o.list2=[]),o.list2=o.list2.concat(i),o.$nextTick((function(){t.endSuccess(i.length,!0)}))}})).catch((function(e){t.endErr()}))},mangeDateils:function(e,t,o){sessionStorage.setItem("id",e),sessionStorage.setItem("eventId",t),sessionStorage.setItem("eventStatusNow",o),this.$router.push("/manage")},mangeDateils1:function(e,t,o){sessionStorage.setItem("id",e),sessionStorage.setItem("eventId",t),sessionStorage.setItem("eventStatusNow",o),this.$router.push("/completeDetails")},mangeDateils2:function(e,t,o){sessionStorage.setItem("id",e),sessionStorage.setItem("eventId",t),sessionStorage.setItem("eventStatusNow",o),this.$router.push("/completeDetails")},onSearch:function(){this.query()},query:function(){this.mescroll.resetUpScroll(),this.show=!1}}},l=i,r=(o("a20f"),o("2877")),c=Object(r["a"])(l,s,n,!1,null,"f3a0e1e8",null);t["default"]=c.exports},f2fd:function(e,t,o){},f868:function(e,t,o){var s,n;(function(a,i){s=i,n="function"===typeof s?s.call(t,o,t,e):s,void 0===n||(e.exports=n)})(0,(function(){var e=function(e,t){var o=this;if(o.version="1.4.0",o.isScrollBody=!e||"body"===e,o.scrollDom=o.isScrollBody?document.body:o.getDomById(e),o.scrollDom){o.options=t||{};var s=navigator.userAgent,n=!!s.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),a="undefined"===typeof window.orientation,i=s.indexOf("Android")>-1||s.indexOf("Adr")>-1;o.os={ios:n,pc:a,android:i},o.isDownScrolling=!1,o.isUpScrolling=!1;var l=o.options.down&&o.options.down.callback;o.initDownScroll(),o.initUpScroll(),setTimeout((function(){o.optDown.use&&o.optDown.auto&&l&&(o.optDown.autoShowLoading?o.triggerDownScroll():o.optDown.callback&&o.optDown.callback(o)),o.optUp.use&&o.optUp.auto&&!o.isUpAutoLoad&&o.triggerUpScroll()}),30)}};return e.prototype.extendDownScroll=function(t){e.extend(t,{use:!0,auto:!0,autoShowLoading:!1,isLock:!1,isBoth:!1,offset:80,inOffsetRate:1,outOffsetRate:.2,bottomOffset:20,minAngle:45,hardwareClass:"mescroll-hardware",mustToTop:!1,warpId:null,warpClass:"mescroll-downwarp",resetClass:"mescroll-downwarp-reset",textInOffset:"下拉刷新",textOutOffset:"释放更新",textLoading:"加载中 ...",htmlContent:'<p class="downwarp-progress"></p><p class="downwarp-tip"></p>',inited:function(e,t){e.downTipDom=t.getElementsByClassName("downwarp-tip")[0],e.downProgressDom=t.getElementsByClassName("downwarp-progress")[0]},inOffset:function(e){e.downTipDom&&(e.downTipDom.innerHTML=e.optDown.textInOffset),e.downProgressDom&&e.downProgressDom.classList.remove("mescroll-rotate")},outOffset:function(e){e.downTipDom&&(e.downTipDom.innerHTML=e.optDown.textOutOffset)},onMoving:function(e,t,o){if(e.downProgressDom){var s=360*t;e.downProgressDom.style.webkitTransform="rotate("+s+"deg)",e.downProgressDom.style.transform="rotate("+s+"deg)"}},beforeLoading:function(e,t){return!1},showLoading:function(e){e.downTipDom&&(e.downTipDom.innerHTML=e.optDown.textLoading),e.downProgressDom&&e.downProgressDom.classList.add("mescroll-rotate")},afterLoading:function(e){return 0},callback:function(e){e.resetUpScroll()}})},e.prototype.extendUpScroll=function(t){var o=this.os.pc;e.extend(t,{use:!0,auto:!0,isLock:!1,isBoth:!1,isBounce:!0,callback:null,page:{num:0,size:10,time:null},noMoreSize:5,offset:100,toTop:{warpId:null,src:null,html:null,offset:1e3,warpClass:"mescroll-totop",showClass:"mescroll-fade-in",hideClass:"mescroll-fade-out",fadeDuration:.5,duration:300,supportTap:!1,btnClick:null},loadFull:{use:!1,delay:500},empty:{warpId:null,icon:null,tip:"暂无相关数据~",btntext:"",btnClick:null,supportTap:!1},clearId:null,clearEmptyId:null,hardwareClass:"mescroll-hardware",warpId:null,warpClass:"mescroll-upwarp",htmlLoading:'<p class="upwarp-progress mescroll-rotate"></p><p class="upwarp-tip">加载中..</p>',htmlNodata:'<p class="upwarp-nodata">-- END --</p>',inited:function(e,t){},showLoading:function(e,t){t.innerHTML=e.optUp.htmlLoading},showNoMore:function(e,t){t.innerHTML=e.optUp.htmlNodata},onScroll:null,scrollbar:{use:o,barClass:"mescroll-bar"},lazyLoad:{use:!1,attr:"imgurl",showClass:"mescroll-lazy-in",delay:500,offset:200}})},e.extend=function(t,o){if(!t)return o;for(var s in o)null==t[s]?t[s]=o[s]:"object"===typeof t[s]&&e.extend(t[s],o[s]);return t},e.prototype.initDownScroll=function(){var e=this;if(e.optDown=e.options.down||{},e.extendDownScroll(e.optDown),e.touchstartEvent=function(t){e.isScrollTo&&e.preventDefault(t),e.startPoint=e.getPoint(t),e.lastPoint=e.startPoint,e.maxTouchmoveY=e.getBodyHeight()-e.optDown.bottomOffset,e.inTouchend=!1;var o=e.getScrollTop();e.isKeepTop=0===o,e.os.pc&&o<=0&&(e.scrollDom.addEventListener("mousemove",e.touchmoveEvent,{passive:!1}),document.ondragstart=function(){return!1})},e.scrollDom.addEventListener("mousedown",e.touchstartEvent),e.scrollDom.addEventListener("touchstart",e.touchstartEvent),e.touchmoveEvent=function(t){if(e.startPoint){var o=e.getScrollTop();o>0&&(e.isKeepTop=!1);var s=e.getPoint(t),n=s.y-e.startPoint.y;if(n>0){if(o<=0&&(e.preventDefault(t),e.optDown.use&&!e.inTouchend&&!e.isDownScrolling&&!e.optDown.isLock&&(!e.isUpScrolling||e.isUpScrolling&&e.optUp.isBoth))){if(e.optDown.mustToTop&&!e.isKeepTop)return;var a=Math.abs(e.lastPoint.x-s.x),i=Math.abs(e.lastPoint.y-s.y),l=Math.sqrt(a*a+i*i);if(0!==l){var r=Math.asin(i/l)/Math.PI*180;if(r<e.optDown.minAngle)return}if(e.maxTouchmoveY>0&&s.y>=e.maxTouchmoveY)return e.inTouchend=!0,void e.touchendEvent();var c=s.y-e.lastPoint.y;e.downHight||(e.downHight=0),e.downHight<e.optDown.offset?(1!==e.movetype&&(e.movetype=1,e.optDown.inOffset(e),e.downwarp.classList.remove(e.optDown.resetClass),e.isMoveDown=!0,e.os.ios&&!e.isKeepTop&&(e.scrollDom.classList.add(e.optDown.hardwareClass),e.scrollDom.style.webkitOverflowScrolling="auto",e.isSetScrollAuto=!0)),e.downHight+=c*e.optDown.inOffsetRate):(2!==e.movetype&&(e.movetype=2,e.optDown.outOffset(e),e.downwarp.classList.remove(e.optDown.resetClass),e.isMoveDown=!0,e.os.ios&&!e.isKeepTop&&(e.scrollDom.classList.add(e.optDown.hardwareClass),e.scrollDom.style.webkitOverflowScrolling="auto",e.isSetScrollAuto=!0)),e.downHight+=c>0?c*e.optDown.outOffsetRate:c),e.downwarp.style.height=e.downHight+"px";var p=e.downHight/e.optDown.offset;e.optDown.onMoving(e,p,e.downHight)}}else if(n<0){var u=e.getScrollHeight(),m=e.getClientHeight(),v=u-m-o;!e.optUp.isBounce&&v<=0&&e.preventDefault(t),e.optUp.use&&!e.optUp.isLock&&e.optUp.hasNext&&!e.isUpScrolling&&(!e.isDownScrolling||e.isDownScrolling&&e.optDown.isBoth)&&(m+e.optUp.offset>=u||v<=0)&&e.triggerUpScroll()}e.lastPoint=s}},e.scrollDom.addEventListener("touchmove",e.touchmoveEvent,{passive:!1}),e.touchendEvent=function(){e.optDown.use&&e.isMoveDown&&(e.downHight>=e.optDown.offset?e.triggerDownScroll():(e.downwarp.classList.add(e.optDown.resetClass),e.downHight=0,e.downwarp.style.height=0),e.isSetScrollAuto&&(e.scrollDom.style.webkitOverflowScrolling="touch",e.scrollDom.classList.remove(e.optDown.hardwareClass),e.isSetScrollAuto=!1),e.movetype=0,e.isMoveDown=!1),e.os.pc&&(e.scrollDom.removeEventListener("mousemove",e.touchmoveEvent),document.ondragstart=function(){return!0})},e.scrollDom.addEventListener("mouseup",e.touchendEvent),e.scrollDom.addEventListener("mouseleave",e.touchendEvent),e.scrollDom.addEventListener("touchend",e.touchendEvent),e.scrollDom.addEventListener("touchcancel",e.touchendEvent),e.optDown.use){e.downwarp=document.createElement("div"),e.downwarp.className=e.optDown.warpClass,e.downwarp.innerHTML='<div class="downwarp-content">'+e.optDown.htmlContent+"</div>";var t=e.optDown.warpId?e.getDomById(e.optDown.warpId):e.scrollDom;e.optDown.warpId&&t?t.appendChild(e.downwarp):(t||(t=e.scrollDom),t.insertBefore(e.downwarp,e.scrollDom.firstChild)),setTimeout((function(){e.optDown.inited(e,e.downwarp)}),0)}},e.prototype.preventDefault=function(e){e&&e.cancelable&&!e.defaultPrevented&&e.preventDefault()},e.prototype.getPoint=function(e){return{x:e.touches?e.touches[0].pageX:e.clientX,y:e.touches?e.touches[0].pageY:e.clientY}},e.prototype.triggerDownScroll=function(){this.optDown.beforeLoading(this,this.downwarp)||(this.showDownScroll(),this.optDown.callback&&this.optDown.callback(this))},e.prototype.showDownScroll=function(){this.isDownScrolling=!0,this.optDown.showLoading(this),this.downHight=this.optDown.offset,this.downwarp.classList.add(this.optDown.resetClass),this.downwarp.style.height=this.optDown.offset+"px"},e.prototype.endDownScroll=function(){var e=this,t=function(){e.downHight=0,e.downwarp.style.height=0,e.isDownScrolling=!1,e.downProgressDom&&e.downProgressDom.classList.remove("mescroll-rotate")},o=e.optDown.afterLoading(e);"number"===typeof o&&o>0?setTimeout(t,o):t()},e.prototype.lockDownScroll=function(e){null==e&&(e=!0),this.optDown.isLock=e},e.prototype.initUpScroll=function(){var e,t=this;(t.optUp=t.options.up||{use:!1},t.extendUpScroll(t.optUp),t.optUp.scrollbar.use&&t.scrollDom.classList.add(t.optUp.scrollbar.barClass),t.optUp.isBounce||t.setBounce(!1),!1!==t.optUp.use)&&(t.optUp.hasNext=!0,t.upwarp=document.createElement("div"),t.upwarp.className=t.optUp.warpClass,t.optUp.warpId&&(e=t.getDomById(t.optUp.warpId)),e||(e=t.scrollDom),e.appendChild(t.upwarp),t.preScrollY=0,t.lazyStartTime=(new Date).getTime(),t.lazyTag="mescroll-lazying",t.scrollEvent=function(){var e=t.getScrollTop(),o=e-t.preScrollY>0;if(t.preScrollY=e,!t.isUpScrolling&&(!t.isDownScrolling||t.isDownScrolling&&t.optDown.isBoth)&&!t.optUp.isLock&&t.optUp.hasNext){var s=t.getScrollHeight()-t.getClientHeight()-e;s<=t.optUp.offset&&o&&t.triggerUpScroll()}var n=t.optUp.toTop;if((n.src||n.html)&&(e>=n.offset?t.showTopBtn():t.hideTopBtn()),t.optUp.lazyLoad.use){var a=(new Date).getTime();t.lazyTimer&&clearTimeout(t.lazyTimer),a-t.lazyStartTime>=t.optUp.lazyLoad.delay?(t.lazyStartTime=a,t.lazyLoad(0)):t.lazyTimer=t.lazyLoad()}t.optUp.onScroll&&t.optUp.onScroll(t,e,o)},t.isScrollBody?window.addEventListener("scroll",t.scrollEvent):t.scrollDom.addEventListener("scroll",t.scrollEvent),setTimeout((function(){t.optUp.inited(t,t.upwarp)}),0))},e.prototype.setBounce=function(e){!this.isScrollBody&&this.os.ios&&(!1===e?(this.optUp.isBounce=!1,window.addEventListener("touchmove",this.bounceTouchmove,{passive:!1})):(this.optUp.isBounce=!0,window.removeEventListener("touchmove",this.bounceTouchmove)))},e.prototype.bounceTouchmove=function(e){var t=this,o=e.target,s=!0;while(o!==document.body&&o!==document){var n=o.classList;if(n){if(n.contains("mescroll")||n.contains("mescroll-touch")){s=!1;break}if(n.contains("mescroll-touch-x")||n.contains("mescroll-touch-y")){var a=e.touches?e.touches[0].pageX:e.clientX,i=e.touches?e.touches[0].pageY:e.clientY;t.preWinX||(t.preWinX=a),t.preWinY||(t.preWinY=i);var l=Math.abs(t.preWinX-a),r=Math.abs(t.preWinY-i),c=Math.sqrt(l*l+r*r);if(t.preWinX=a,t.preWinY=i,0!==c){var p=Math.asin(r/c)/Math.PI*180;if(p<=45&&n.contains("mescroll-touch-x")||p>45&&n.contains("mescroll-touch-y")){s=!1;break}}}}o=o.parentNode}s&&e.cancelable&&!e.defaultPrevented&&"function"===typeof e.preventDefault&&e.preventDefault()},e.prototype.triggerUpScroll=function(){this.optUp.callback&&!this.isUpScrolling&&(this.showUpScroll(),this.optUp.page.num++,this.isUpAutoLoad=!0,this.optUp.callback(this.optUp.page,this))},e.prototype.showUpScroll=function(){this.isUpScrolling=!0,this.upwarp.classList.add(this.optUp.hardwareClass),this.upwarp.style.visibility="visible",this.upwarp.style.display="block",this.optUp.showLoading(this,this.upwarp)},e.prototype.showNoMore=function(){this.upwarp.style.visibility="visible",this.upwarp.style.display="block",this.optUp.hasNext=!1,this.optUp.showNoMore(this,this.upwarp)},e.prototype.hideUpScroll=function(e){e?this.upwarp.style.display="none":this.upwarp.style.visibility="hidden",this.upwarp.classList.remove(this.optUp.hardwareClass);var t=this.upwarp.getElementsByClassName("upwarp-progress")[0];t&&t.classList.remove("mescroll-rotate")},e.prototype.endUpScroll=function(e,t){null!=e&&(e?this.showNoMore():this.hideUpScroll(t)),this.isUpScrolling=!1},e.prototype.resetUpScroll=function(e){if(this.optUp&&this.optUp.use){var t=this.optUp.page;this.prePageNum=t.num,this.prePageTime=t.time,t.num=1,t.time=null,this.isDownScrolling||!1===e||(null==e?(this.removeEmpty(),this.clearDataList(),this.showUpScroll()):this.showDownScroll()),this.isUpAutoLoad=!0,this.optUp.callback&&this.optUp.callback(t,this)}},e.prototype.setPageNum=function(e){this.optUp.page.num=e-1},e.prototype.setPageSize=function(e){this.optUp.page.size=e},e.prototype.clearDataList=function(){var e=this.optUp.clearId||this.optUp.clearEmptyId;if(e){var t=this.getDomById(e);t&&(t.innerHTML="")}},e.prototype.endByPage=function(e,t,o){var s;this.optUp.use&&null!=t&&(s=this.optUp.page.num<t),this.endSuccess(e,s,o)},e.prototype.endBySize=function(e,t,o){var s;if(this.optUp.use&&null!=t){var n=(this.optUp.page.num-1)*this.optUp.page.size+e;s=n<t}this.endSuccess(e,s,o)},e.prototype.endSuccess=function(e,t,o){var s=this;if(s.isDownScrolling&&s.endDownScroll(),s.optUp.use){var n;if(null!=e){var a=s.optUp.page.num,i=s.optUp.page.size;if(1===a&&(s.clearDataList(),o&&(s.optUp.page.time=o)),e<i||!1===t)if(s.optUp.hasNext=!1,0===e&&1===a)n=!1,s.showEmpty();else{var l=(a-1)*i+e;n=!(l<s.optUp.noMoreSize),s.removeEmpty()}else n=!1,s.optUp.hasNext=!0,s.removeEmpty()}var r=!s.optUp.hasNext;s.endUpScroll(n,r),s.loadFull(),s.optUp.lazyLoad.use&&s.lazyLoad(16)}},e.prototype.endErr=function(){if(this.isDownScrolling){var e=this.optUp.page;e&&this.prePageNum&&(e.num=this.prePageNum,e.time=this.prePageTime),this.endDownScroll()}this.isUpScrolling&&(this.optUp.page.num--,this.endUpScroll(!1))},e.prototype.loadFull=function(){var e=this;e.optUp.loadFull.use&&!e.optUp.isLock&&e.optUp.hasNext&&e.optUp.callback&&e.getScrollHeight()<=e.getClientHeight()&&setTimeout((function(){e.getScrollHeight()<=e.getClientHeight()&&e.triggerUpScroll()}),e.optUp.loadFull.delay)},e.prototype.lockUpScroll=function(e){null==e&&(e=!0),this.optUp.isLock=e},e.prototype.showEmpty=function(){var e=this,t=e.optUp.empty,o=t.warpId||e.optUp.clearEmptyId;if(null!=o){var s=e.getDomById(o);if(s){e.removeEmpty();var n="";if(t.icon&&(n+='<img class="empty-icon" src="'+t.icon+'"/>'),t.tip&&(n+='<p class="empty-tip">'+t.tip+"</p>"),t.btntext&&(n+='<p class="empty-btn">'+t.btntext+"</p>"),e.emptyDom=document.createElement("div"),e.emptyDom.className="mescroll-empty",e.emptyDom.innerHTML=n,s.appendChild(e.emptyDom),t.btnClick){var a=e.emptyDom.getElementsByClassName("empty-btn")[0];t.supportTap?a.addEventListener("tap",(function(o){o.stopPropagation(),e.preventDefault(o),t.btnClick()})):a.onclick=function(){t.btnClick()}}}}},e.prototype.removeEmpty=function(){this.removeChild(this.emptyDom)},e.prototype.showTopBtn=function(e){if(!this.topBtnShow){this.topBtnShow=!0;var t,o=this,s=o.optUp.toTop;if(null==o.toTopBtn)s.html?(o.toTopBtn=document.createElement("div"),o.toTopBtn.innerHTML=s.html):(o.toTopBtn=document.createElement("img"),o.toTopBtn.src=s.src),o.toTopBtn.className=s.warpClass,s.supportTap?o.toTopBtn.addEventListener("tap",(function(e){e.stopPropagation(),o.preventDefault(e);var t=s.btnClick&&s.btnClick();!0!==t&&o.scrollTo(0,o.optUp.toTop.duration)})):o.toTopBtn.onclick=function(){var e=s.btnClick&&s.btnClick();!0!==e&&o.scrollTo(0,o.optUp.toTop.duration)},s.warpId&&(t=o.getDomById(s.warpId)),t||(t=document.body),t.appendChild(o.toTopBtn);o.toTopBtn.classList.remove(s.hideClass),o.toTopBtn.classList.add(s.showClass),o.setTopBtnFadeDuration(e)}},e.prototype.hideTopBtn=function(e){this.topBtnShow&&this.toTopBtn&&(this.topBtnShow=!1,this.toTopBtn.classList.remove(this.optUp.toTop.showClass),this.toTopBtn.classList.add(this.optUp.toTop.hideClass),this.setTopBtnFadeDuration(e))},e.prototype.setTopBtnFadeDuration=function(e){if(this.toTopBtn){var t=(null!=e?e:this.optUp.toTop.fadeDuration)+"s";this.toTopBtn.style.animationDuration=t,this.toTopBtn.style.webkitAnimationDuration=t}},e.prototype.scrollTo=function(e,t){var o=this,s=o.getScrollTop(),n=e;if(n>0){var a=o.getScrollHeight()-o.getClientHeight();n>a&&(n=a)}else n=0;o.isScrollTo=!0,o.scrollDom.style.webkitOverflowScrolling="auto",o.getStep(s,n,(function(e){o.setScrollTop(e),e===n&&(o.scrollDom.style.webkitOverflowScrolling="touch",o.isScrollTo=!1)}),t)},e.prototype.getStep=function(e,t,o,s,n){var a=t-e;if(0!==s&&0!==a){s=s||300,n=n||30;var i=s/n,l=a/i,r=0,c=window.setInterval((function(){r<i-1?(e+=l,o&&o(e,c),r++):(o&&o(t,c),window.clearInterval(c))}),n)}else o&&o(t)},e.prototype.lazyLoad=function(e){var t=this,o=null!=e?e:t.optUp.lazyLoad.delay,s=setTimeout((function(){for(var e=t.scrollDom.querySelectorAll("["+t.optUp.lazyLoad.attr+"]"),o=e.length,s=0;s<o;s++){var n=e[s];if("true"!==n.getAttribute(t.lazyTag)&&t.isInSee(n,t.optUp.lazyLoad.offset)){var a=n.getAttribute(t.optUp.lazyLoad.attr),i=new Image;i.onload=function(){var e=this.src,o=this.dom,s=t.optUp.lazyLoad.showClass;s&&o.classList.add(s),"IMG"===o.tagName?o.src=e:o.style.backgroundImage="url("+e+")",o.removeAttribute(t.optUp.lazyLoad.attr),o.removeAttribute(t.lazyTag)},i.onerror=function(){this.dom.removeAttribute(t.lazyTag)},i.onabort=function(){this.dom.removeAttribute(t.lazyTag)},i.src=a,n.setAttribute(t.lazyTag,"true"),i.dom=n}}}),o);return s},e.prototype.isInSee=function(e,t){t=t||0;var o=this.getOffsetTop(e),s=this.getScrollTop()-t,n=o+e.offsetHeight,a=s+t+this.getClientHeight()+t;return o<a&&o>=s||n<=a&&n>s},e.prototype.getOffsetTop=function(e){var t=e.offsetTop,o=e.offsetParent;while(null!=o&&o!==this.scrollDom)t+=o.offsetTop+o.clientTop,o=o.offsetParent;return t},e.prototype.getScrollHeight=function(){return this.scrollDom.scrollHeight},e.prototype.getClientHeight=function(){return this.isScrollBody&&"CSS1Compat"===document.compatMode?document.documentElement.clientHeight:this.scrollDom.clientHeight},e.prototype.getBodyHeight=function(){return document.body.clientHeight||document.documentElement.clientHeight},e.prototype.getScrollTop=function(){return this.isScrollBody?document.documentElement.scrollTop||document.body.scrollTop:this.scrollDom.scrollTop},e.prototype.getToBottom=function(){return this.getScrollHeight()-this.getClientHeight()-this.getScrollTop()},e.prototype.setScrollTop=function(e){"number"===typeof e&&(this.isScrollBody?(document.documentElement.scrollTop=e,document.body.scrollTop=e):this.scrollDom.scrollTop=e)},e.prototype.getDomById=function(e){var t;return e&&("string"===typeof e?t=document.getElementById(e):e.nodeType&&(t=e)),t||console.error('the element with id as "'+e+'" can not be found: document.getElementById("'+e+'")==null'),t},e.prototype.removeChild=function(e){if(e){var t=e.parentNode;t&&t.removeChild(e),e=null}},e.prototype.destroy=function(){var e=this;e.scrollDom.removeEventListener("touchstart",e.touchstartEvent),e.scrollDom.removeEventListener("touchmove",e.touchmoveEvent),e.scrollDom.removeEventListener("touchend",e.touchendEvent),e.scrollDom.removeEventListener("touchcancel",e.touchendEvent),e.scrollDom.removeEventListener("mousedown",e.touchstartEvent),e.scrollDom.removeEventListener("mousemove",e.touchmoveEvent),e.scrollDom.removeEventListener("mouseup",e.touchendEvent),e.scrollDom.removeEventListener("mouseleave",e.touchendEvent),e.removeChild(e.downwarp),e.isScrollBody?window.removeEventListener("scroll",e.scrollEvent):e.scrollDom.removeEventListener("scroll",e.scrollEvent),e.removeChild(e.upwarp),e.removeChild(e.toTopBtn),e.setBounce(!0)},e}))}}]);