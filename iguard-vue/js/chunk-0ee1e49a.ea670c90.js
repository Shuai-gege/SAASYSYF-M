(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0ee1e49a"],{2672:function(e,t,s){},aa50:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"box"},[s("van-nav-bar",{attrs:{title:"事件详情","left-text":"返回","left-arrow":"",fixed:!0},on:{"click-left":function(t){return e.$router.push("/userCheck")}}}),s("div",{staticClass:"con"},[s("div",{staticClass:"flex_s col"},[s("span",[e._v("申请时间:")]),s("span",[e._v(e._s(e._f("timeFilter")(e.obj.applyTime,"ymdhm")))])]),s("div",{staticClass:"flex_s col"},[s("span",[e._v("申请人:")]),s("span",[e._v(e._s(e.obj.applyName))])]),s("div",{staticClass:"flex_s col"},[s("span",[e._v("联系方式:")]),s("span",[e._v(e._s(e.obj.applyPhone))])]),s("div",{staticClass:"flex_s col"},[s("span",[e._v("申请部门:")]),s("span",[e._v(e._s(e.obj.applyDept))])]),s("div",{staticClass:"flex_s col"},[s("span",[e._v("申请原因:")]),s("span",[e._v(e._s(e.obj.applyRemark))])]),s("div",{staticClass:"flex_s col"},[s("span",[e._v("头像:")]),s("span",[s("img",{attrs:{src:e.obj.registerPic,alt:""}})])]),s("div",{staticClass:"flex_s col"},[s("span",[e._v("分配部门:")]),0==e.options.length?s("span",[e._v("请登录PC端设置企业组织架构")]):s("span",[s("treeselect",{staticStyle:{"padding-right":"10px"},attrs:{options:e.options,placeholder:"选择部门",normalizer:e.normalizer},on:{select:e.section},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)]),s("div",{staticClass:"flex_s col"},[s("span",[e._v("用户赋权:")]),0==e.userArr.length?s("span",[e._v("请登录PC端设置用户权限角色")]):s("span",[s("select",{directives:[{name:"model",rawName:"v-model",value:e.selectItem,expression:"selectItem"}],staticStyle:{width:"218px",height:"38px","font-size":"16px","border-radius":"6px","border-color":"#dcdcdc"},attrs:{name:"quanXian",id:""},on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectItem=t.target.multiple?s:s[0]},function(t){return e.abc(t)}]}},e._l(e.userArr,(function(t,a){return s("option",{key:a,domProps:{value:t.id}},[e._v(e._s(t.name))])})),0)])])]),s("van-field",{attrs:{rows:"4",autosize:"",type:"textarea",maxlength:"120",placeholder:"请输入审核信息","show-word-limit":""},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}),s("div",{staticClass:"btn flex"},[s("van-button",{attrs:{color:"#999"},on:{click:function(t){return e.end("2")}}},[e._v("拒绝")]),s("van-button",{attrs:{color:"#a48f36"},on:{click:function(t){return e.end("1")}}},[e._v("确认")])],1)],1)},n=[],i=(s("6b54"),s("ac6a"),s("7f7f"),s("ca17")),o=s.n(i),r=(s("542c"),{components:{Treeselect:o.a},data:function(){return{message:"",value:null,obj:{},userArr:[],userId:"",buMenId:"",selectItem:"选择角色",options:[],normalizer:function(e){return console.log(e),{id:e.id,label:e.name,children:e.childrens}}}},mounted:function(){var e=this;this.obj=JSON.parse(this.$route.query.obj),this.keepAxios.get(this.baseUrl.checkList+"/rest/user/getRolesByCompanyId",{params:{companyId:localStorage.getItem("deptid")}}).then((function(t){e.userArr=[],t.data.result.forEach((function(t){t.name.indexOf("管理员")<=0&&e.userArr.push(t)})),console.log(e.userArr)})),this.keepAxios.get(this.baseUrl.checkList+"/rest/department/getAllDeptsByCompanyId",{params:{companyId:localStorage.getItem("deptid")}}).then((function(t){console.log(t),e.options=t.data.result}))},methods:{section:function(e,t){console.log(e),this.buMenId=e.id.toString()},end:function(e){var t=this;this.keepAxios.post(this.baseUrl.checkList+"/rest/appUser/auditingApply",{applyRemark:this.message,deptId:this.buMenId,registerApplyId:this.obj.id,roleId:this.userId,status:e}).then((function(e){console.log(e),2e4==e.data.code?(t.$toast(e.data.msg),t.$router.push("/userCheck")):t.$toast(e.data.msg)}))},abc:function(e){console.log(e.target.value),this.userId=e.target.value}}}),l=r,c=(s("d4ee"),s("2877")),u=Object(c["a"])(l,a,n,!1,null,"0919b7ac",null);t["default"]=u.exports},ac6a:function(e,t,s){for(var a=s("cadf"),n=s("0d58"),i=s("2aba"),o=s("7726"),r=s("32e9"),l=s("84f2"),c=s("2b4c"),u=c("iterator"),p=c("toStringTag"),d=l.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},m=n(f),v=0;v<m.length;v++){var h,g=m[v],_=f[g],b=o[g],L=b&&b.prototype;if(L&&(L[u]||r(L,u,d),L[p]||r(L,p,g),l[g]=d,_))for(h in a)L[h]||i(L,h,a[h],!0)}},d4ee:function(e,t,s){"use strict";var a=s("2672"),n=s.n(a);n.a}}]);