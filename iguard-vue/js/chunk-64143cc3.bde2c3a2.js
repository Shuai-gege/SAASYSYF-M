(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-64143cc3"],{"07e3":function(e,t){var a={}.hasOwnProperty;e.exports=function(e,t){return a.call(e,t)}},"1bc3":function(e,t,a){var n=a("f772");e.exports=function(e,t){if(!n(e))return e;var a,i;if(t&&"function"==typeof(a=e.toString)&&!n(i=a.call(e)))return i;if("function"==typeof(a=e.valueOf)&&!n(i=a.call(e)))return i;if(!t&&"function"==typeof(a=e.toString)&&!n(i=a.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},"1ec9":function(e,t,a){var n=a("f772"),i=a("e53d").document,r=n(i)&&n(i.createElement);e.exports=function(e){return r?i.createElement(e):{}}},"294c":function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},"35e8":function(e,t,a){var n=a("d9f6"),i=a("aebd");e.exports=a("8e60")?function(e,t,a){return n.f(e,t,i(1,a))}:function(e,t,a){return e[t]=a,e}},"454f":function(e,t,a){a("46a7");var n=a("584a").Object;e.exports=function(e,t,a){return n.defineProperty(e,t,a)}},"46a7":function(e,t,a){var n=a("63b6");n(n.S+n.F*!a("8e60"),"Object",{defineProperty:a("d9f6").f})},"584a":function(e,t){var a=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=a)},"63b6":function(e,t,a){var n=a("e53d"),i=a("584a"),r=a("d864"),s=a("35e8"),o=a("07e3"),c="prototype",u=function(e,t,a){var l,f,p,h=e&u.F,d=e&u.G,m=e&u.S,v=e&u.P,g=e&u.B,b=e&u.W,k=d?i:i[t]||(i[t]={}),y=k[c],x=d?n:m?n[t]:(n[t]||{})[c];for(l in d&&(a=t),a)f=!h&&x&&void 0!==x[l],f&&o(k,l)||(p=f?x[l]:a[l],k[l]=d&&"function"!=typeof x[l]?a[l]:g&&f?r(p,n):b&&x[l]==p?function(e){var t=function(t,a,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,a)}return new e(t,a,n)}return e.apply(this,arguments)};return t[c]=e[c],t}(p):v&&"function"==typeof p?r(Function.call,p):p,v&&((k.virtual||(k.virtual={}))[l]=p,e&u.R&&y&&!y[l]&&s(y,l,p)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},"794b":function(e,t,a){e.exports=!a("8e60")&&!a("294c")((function(){return 7!=Object.defineProperty(a("1ec9")("div"),"a",{get:function(){return 7}}).a}))},"79aa":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},"85f2":function(e,t,a){e.exports=a("454f")},"86de":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box"},[a("van-nav-bar",{attrs:{title:"检查项详情","left-arrow":"",fixed:!0},on:{"click-left":e.onClickLeft}}),a("div",{staticClass:"con"},[a("div",{staticClass:"flex_l"},[e._v("位置："+e._s(e.weiZhi))]),a("span",{staticClass:"flex_l"},[e._v("设备类型："+e._s(e.type))]),a("div",{staticClass:"flex_l"},[e._v("设备名称："+e._s(e.spotName))])]),a("div",{staticClass:"title"},[e._v("检查过程")]),a("div",{staticClass:"check"},[e._l(e.spotCheck,(function(t,n){return a("div",{key:n},[2==t.checkType?a("div",{staticClass:"flex_s"},[a("span",{staticClass:"jianChaName"},[e._v(e._s(n+1)+" "+e._s(t.checkDescription))]),a("span",[a("van-radio-group",{attrs:{direction:"horizontal"},model:{value:t.inputValue,callback:function(a){e.$set(t,"inputValue",a)},expression:"item.inputValue"}},[a("van-radio",{attrs:{name:"正常"}},[e._v("正常")]),a("van-radio",{attrs:{name:"异常"}},[e._v("异常")])],1)],1)]):e._e(),0==t.checkType?a("div",{staticClass:"flex_s",staticStyle:{height:"60px"}},[a("span",{staticClass:"jianChaName1"},[e._v(e._s(n+1)+" "+e._s(t.checkDescription))]),a("span",[a("van-field",{attrs:{type:"digit",placeholder:t.inputTips},model:{value:t.inputValue,callback:function(a){e.$set(t,"inputValue",a)},expression:"item.inputValue"}})],1)]):e._e(),1==t.checkType?a("div",{staticClass:"flex_s",staticStyle:{height:"60px"}},[a("span",{staticClass:"jianChaName1"},[e._v(e._s(n+1)+" "+e._s(t.checkDescription))]),a("span",[a("van-field",{attrs:{placeholder:t.inputTips},model:{value:t.inputValue,callback:function(a){e.$set(t,"inputValue",a)},expression:"item.inputValue"}})],1)]):e._e()])})),a("div",{staticClass:"flex_s"},[e._v("\n      巡查结果\n      "),a("span",{staticStyle:{"padding-left":"106px"}},[a("van-radio-group",{attrs:{direction:"horizontal"},on:{change:e.result},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[a("van-radio",{attrs:{name:"0"}},[e._v("正常")]),a("van-radio",{attrs:{name:"1"}},[e._v("异常")])],1)],1)]),a("van-field",{attrs:{rows:"2",autosize:"",label:"描述",type:"textarea",maxlength:"50",placeholder:"请输入留言","show-word-limit":""},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}})],2),a("div",{staticClass:"paiZhao"},[a("van-uploader",{attrs:{"max-count":3,"after-read":e.afterRead},on:{delete:e.remove},model:{value:e.fileList,callback:function(t){e.fileList=t},expression:"fileList"}})],1)],1)},i=[],r=(a("7f7f"),a("34ef"),a("4917"),a("ac6a"),a("28a5"),a("a481"),a("bd86")),s={data:function(){return Object(r["a"])({imgNum:"",radio:"",message:"",fileList:[],base64Datas:[],base64:"",base64Arr:[],tuName:"",tuNameArr:[],spotCheck:[],weiZhi:"",type:"",spotName:"",checkResult:{uid:localStorage.getItem("uid"),checkItemList:[],fileName:"",base64:""},url:""},"base64Datas",[])},mounted:function(){var e=this,t=unescape(localStorage.getItem("baseUrl"));this.url=t.replace("https","http"),this.spotCheck=this.$route.params.spotCheck,this.weiZhi=this.$route.params.weiZhi,this.type=this.$route.params.type,this.spotName=this.$route.params.spotName,this.checkResult.taskDetailId=localStorage.getItem("taskDetailId"),this.checkResult.deviceId=localStorage.getItem("deviceId"),this.radio=this.$route.params.radio,this.message=this.$route.params.remark;var a=this.$route.params.imgUrl,n=a.split(",");n.forEach((function(t){e.fileList.push({url:e.url+t})})),this.imgNum=this.fileList.length,sessionStorage.setItem("beacons",!1),localStorage.setItem("faceCheck","0")},methods:{dataURLtoFile:function(e,t){var a=e.split(","),n=a[0].match(/:(.*?);/)[1],i=atob(a[1]),r=i.length,s=new Uint8Array(r);while(r--)s[r]=i.charCodeAt(r);return new File([s],t,{type:n})},onClickLeft:function(){this.$router.push("/spotCheckDetails")},ad:function(){console.log("aaa")},afterRead:function(e){var t=this;this.show=!1;var a=document.createElement("canvas"),n=a.getContext("2d"),i=new Image;i.src=e.content,i.onload=function(){a.width=400,a.height=300,n.drawImage(i,0,0,400,300),e.content=a.toDataURL(e.file.type,.92);var r=t.dataURLtoFile(e.content,e.file.name),s=new FormData;s.append("file",r),s.append("code",t.applyNo),s.append("type","chat"),t.base64Arr.push(e.content),t.tuNameArr.push(e.file.name),t.base64=t.base64Arr.join("#"),t.tuName=t.tuNameArr.join(","),t.checkResult.base64=t.base64,t.checkResult.fileName=t.tuName},console.log(this.fileList)},remove:function(e,t){var a=this;this.base64Arr.forEach((function(n){if(n==e.content)return a.base64Arr.splice(t.index,1)})),this.tuNameArr.forEach((function(n){if(n==e.file.name)return a.tuNameArr.splice(t.index,1)})),this.base64=this.base64Arr.join("#"),this.tuName=this.tuNameArr.join(",")},result:function(e){console.log(e),this.checkResult.deviceResult=e},end:function(){var e=this;this.checkResult.remark=this.message,this.spotCheck.forEach((function(t){e.checkResult.checkItemList.push({dataId:t.id,dataValue:t.inputValue})})),console.log("xiamian"),console.log(this.checkResult),this.fileList.length<3?this.$toast("请上传3张图片"):""==this.message?this.$toast("请输入描述"):""==this.checkResult.checkItemList.forEach((function(e){return e.dataValue}))?this.$toast("请输入检查项"):this.keepAxios.post(this.baseUrl.spotCheck+"/app/check/checkSubmit",this.checkResult).then((function(t){console.log(t),2e4==t.data.code&&(localStorage.setItem("weiZhi",t.data.data.checkScanSignInBean.patrolPointCheck),localStorage.setItem("deviceName",t.data.data.deviceInfoBean.deviceName),console.log("下"),console.log(t.data.data.deviceInfoBean.deviceName),console.log("上"),e.$router.push({path:"/spotCheckDetails",query:{id:e.checkResult.taskDetailId,faceCheck:t.data.data.checkScanSignInBean.faceCheck,time:localStorage.getItem("time")}}))})).catch((function(e){console.log(e)}))}}},o=s,c=(a("b056"),a("2877")),u=Object(c["a"])(o,n,i,!1,null,"7406ef83",null);t["default"]=u.exports},"8e60":function(e,t,a){e.exports=!a("294c")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},ac6a:function(e,t,a){for(var n=a("cadf"),i=a("0d58"),r=a("2aba"),s=a("7726"),o=a("32e9"),c=a("84f2"),u=a("2b4c"),l=u("iterator"),f=u("toStringTag"),p=c.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=i(h),m=0;m<d.length;m++){var v,g=d[m],b=h[g],k=s[g],y=k&&k.prototype;if(y&&(y[l]||o(y,l,p),y[f]||o(y,f,g),c[g]=p,b))for(v in n)y[v]||r(y,v,n[v],!0)}},aebd:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},b056:function(e,t,a){"use strict";var n=a("d28d"),i=a.n(n);i.a},bd86:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("85f2"),i=a.n(n);function r(e,t,a){return t in e?i()(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},d28d:function(e,t,a){},d864:function(e,t,a){var n=a("79aa");e.exports=function(e,t,a){if(n(e),void 0===t)return e;switch(a){case 1:return function(a){return e.call(t,a)};case 2:return function(a,n){return e.call(t,a,n)};case 3:return function(a,n,i){return e.call(t,a,n,i)}}return function(){return e.apply(t,arguments)}}},d9f6:function(e,t,a){var n=a("e4ae"),i=a("794b"),r=a("1bc3"),s=Object.defineProperty;t.f=a("8e60")?Object.defineProperty:function(e,t,a){if(n(e),t=r(t,!0),n(a),i)try{return s(e,t,a)}catch(o){}if("get"in a||"set"in a)throw TypeError("Accessors not supported!");return"value"in a&&(e[t]=a.value),e}},e4ae:function(e,t,a){var n=a("f772");e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},e53d:function(e,t){var a=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=a)},f772:function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}}}]);